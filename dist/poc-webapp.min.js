angular.module("app",[]),angular.module("app").directive("card",function(){return console.log("book-card directive"),{restrict:"EA",templateUrl:"book-card/book-card.tpl.html"}}).controller("BookCardController",["$scope",function(o){o.title="Book Card Controller",o.directive_message="Here we are in book-card controller"}]);const URL="http://localhost/sites/wordpress/?rest_route=/poc-plugin/v1/custom-posts";function format_data(o){for(let t=0;t<o.length;t++){let e=o[t].post_content;o[t].post_content=e.replace("<span>","").replace("</span>","");let r=o[t].post_date;o[t].post_date=r.substring(0,10);let l=o[t].post_name;o[t].post_url="http://localhost/sites/wordpress/?book_collection_post=$"+l}return o}angular.module("app").directive("book",function(){return{restrict:"EA",templateUrl:"book-directory/book-directory.tpl.html"}}).controller("BookDirController",["$scope","$http",function(o,t){o.title="Book Directory Controller",o.directive_message="Here we are in book-directory controller",o.list_of_posts=[],t.get(URL).then(function(t){o.list_of_posts=format_data(t.data),o.num_posts=o.list_of_posts.length}).catch(function(o){console.error("Error getting books",o)})}]);